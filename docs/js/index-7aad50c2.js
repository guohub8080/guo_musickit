import{d as x,u as S,s as U,c as D,a as o,b as u,e as d,i as A,t as O,w as a,F as V,r as f,o as w,f as n,g as G,h as T,j as c,k as M,n as E,l as P,m as Y,p as R,q as B}from"./index-eee103e4.js";import{u as j,o as C}from"./index-a9d96e8c.js";import{_ as L}from"./plugin-vue_export-helper-893979e1.js";const q={class:"settings"},z={class:"scale_num_mode"},H={class:"btn_line"},K={class:"tip"},J={class:"show_scales"},Q={class:"reverse_by"},W=x({__name:"Settings",setup($){const F=S(),{is_show_scale_rome:s,show_scale_id:p,reverse_scale_show_by:r}=U(F);return(y,t)=>{const v=f("a-switch"),_=f("a-radio"),b=f("a-radio-group");return w(),D(V,null,[o("div",q,[o("div",z,[o("div",H,[t[3]||(t[3]=o("span",null,"\u4EE5\u7F57\u9A6C\u6570\u5B57\u663E\u793A",-1)),u(v,{checked:d(s),"onUpdate:checked":t[0]||(t[0]=l=>A(s)?s.value=l:null),class:"right"},null,8,["checked"])]),o("div",K,O(d(s)?"\u6548\u679C\u9884\u89C8\uFF1A\u4E3B\u2160 \u5C5E\u2164 \u5BFC\u2166":"\u6548\u679C\u9884\u89C8\uFF1A\u4E3B1  \u5C5E5  \u5BFC7"),1)]),o("div",J,[t[11]||(t[11]=o("div",{class:"btn_line"},[o("span",null,"\u97F3\u9636\u663E\u793A\u9009\u62E9")],-1)),t[12]||(t[12]=o("div",{style:{height:"0.3rem"}},null,-1)),u(b,{value:d(p),"onUpdate:value":t[1]||(t[1]=l=>A(p)?p.value=l:null)},{default:a(()=>[u(_,{value:"ION",class:"mode_options"},{default:a(()=>t[4]||(t[4]=[n("\u81EA\u7136\u5927\u8C03\uFF08Ionia\uFF09")])),_:1}),u(_,{value:"AEO",class:"mode_options"},{default:a(()=>t[5]||(t[5]=[n("\u81EA\u7136\u5C0F\u8C03\uFF08Aeolian\uFF09")])),_:1}),u(_,{value:"DOR",class:"mode_options"},{default:a(()=>t[6]||(t[6]=[n("Dorian\u5C0F\u8C03")])),_:1}),u(_,{value:"PHR",class:"mode_options"},{default:a(()=>t[7]||(t[7]=[n("Phrygian\u5C0F\u8C03")])),_:1}),u(_,{value:"LYD",class:"mode_options"},{default:a(()=>t[8]||(t[8]=[n("Lydian\u5927\u8C03")])),_:1}),u(_,{value:"MLY",class:"mode_options"},{default:a(()=>t[9]||(t[9]=[n("Mixo-lydian\u5927\u8C03")])),_:1}),u(_,{value:"LOC",class:"mode_options"},{default:a(()=>t[10]||(t[10]=[n("Locrian\u534A\u51CF\u4E03\u8C03")])),_:1})]),_:1},8,["value"])]),o("div",Q,[t[15]||(t[15]=o("div",{class:"btn_line"},[o("span",null,"\u53CD\u5411\u97F3\u9636\u663E\u793A")],-1)),t[16]||(t[16]=o("div",{style:{height:"0.3rem"}},null,-1)),u(b,{value:d(r),"onUpdate:value":t[2]||(t[2]=l=>A(r)?r.value=l:null)},{default:a(()=>[u(_,{value:"by_mode",class:"mode_options"},{default:a(()=>t[13]||(t[13]=[n("\u6309\u97F3\u9636")])),_:1}),u(_,{value:"by_tonic",class:"mode_options"},{default:a(()=>t[14]||(t[14]=[n("\u6309\u4E3B\u97F3")])),_:1})]),_:1},8,["value"])])]),t[17]||(t[17]=o("div",{style:{height:"1.5rem"}},null,-1))],64)}}});var X=L(W,[["__scopeId","data-v-1babf09f"]]);const Z={class:"out_circle"},h={class:"inner_circle"},ee={class:"up_text"},te=x({__name:"Loading",setup($){const F=G(null),s=j(F);return s.value=!0,(p,r)=>{const y=f("a-spin");return w(),D("div",{class:"loading",onTouchmove:r[0]||(r[0]=T(()=>{},["prevent"])),ref_key:"el",ref:F},[o("div",Z,[o("div",h,[o("div",ee,[u(y,{class:"spin_kit"}),r[1]||(r[1]=o("div",null,"\u52A0\u8F7D\u4E2D...",-1))])]),r[2]||(r[2]=o("div",{class:"bg_circle"},null,-1))])],544)}}});var le=L(te,[["__scopeId","data-v-6411604d"]]);const se={class:"nav"},ue={class:"tonic_choice"},oe=x({__name:"index",setup($){const F=S(),{tonic_choice_bar:s,tonic_n_db:p,nth:r,is_loading:y}=U(F);c.beforeEach((l,e,i)=>{y.value=!0,i()}),c.afterEach((l,e)=>{y.value=!1});const t=l=>{if(r.value===l)return"is_selected"},v=["C","D","E","F","G","A","B"];C("r",l=>{l.preventDefault();const e=[-1,0,1];s.value.step=v[Math.floor(Math.random()*v.length)],s.value.alter=e[Math.floor(Math.random()*e.length)]}),C(["c","d","e","f","g","a","b"],l=>{l.preventDefault(),s.value.step=l.key.toUpperCase()}),C(["0","-","="],l=>{l.preventDefault(),l.key==="-"?s.value.alter=-1:l.key==="0"?s.value.alter=0:s.value.alter=1}),C(["[","]"],l=>{l.preventDefault(),l.key==="["?s.value.alter>-1&&(s.value.alter-=1):s.value.alter<1&&(s.value.alter+=1)}),C([",","."],l=>{l.preventDefault();const e=l.key==="."?v.indexOf(s.value.step)+1:v.indexOf(s.value.step)-1;e<0?s.value.step=v[e+v.length]:e>v.length-1?s.value.step=v[e-v.length]:s.value.step=v[e]}),C("v",l=>{if(l.preventDefault(),p.value.is_black){const e=R({loc_id:p.value.loc_id},{is_normal:!0},{step:{"!=":p.value.step}}).first();s.value={step:e.step,alter:e.alter}}}),C(["ArrowLeft","ArrowRight"],l=>{l.preventDefault();let e;l.key==="ArrowLeft"?e=p.value.loc_id-1:e=p.value.loc_id+1,e<=0?e+=12:e>12&&(e-=12);const i=R({loc_id:e},{alter:{">=":-1}},{alter:{"<=":1}}).get(),k=B(i)({alter:0}).first();if(k!=!1){s.value={step:k.step,alter:0};return}if(l.key==="ArrowLeft"){const m=B(i)({alter:-1}).first();s.value={step:m.step,alter:m.alter};return}if(l.key==="ArrowRight"){const m=B(i)({alter:1}).first();s.value={step:m.step,alter:m.alter};return}});const _=M(()=>r.value!=3?"is_hidden":null),b=M(()=>[1].includes(r.value)?"is_hidden":null);return(l,e)=>{const i=f("a-radio-button"),k=f("a-radio-group"),m=f("a-button"),I=f("a-popover"),N=f("router-view");return w(),D("div",null,[o("div",se,[o("div",{onClick:e[0]||(e[0]=g=>d(c).replace("/readme")),class:E(t(1))},"ReadMe",2),o("div",{onClick:e[1]||(e[1]=g=>d(c).replace("/interval")),class:E(t(2))},"Interval",2),o("div",{onClick:e[2]||(e[2]=g=>d(c).replace("/scales")),class:E(t(3))},"Scales",2),o("div",{onClick:e[3]||(e[3]=g=>d(c).replace("/chord")),class:E(t(4))},"Chord",2)]),d(y)?(w(),P(le,{key:0})):Y("",!0),o("div",{class:E(["music",b.value])},[o("div",ue,[u(k,{value:d(s).step,"onUpdate:value":e[4]||(e[4]=g=>d(s).step=g),"button-style":"solid",class:"step"},{default:a(()=>[u(i,{value:"C"},{default:a(()=>e[6]||(e[6]=[n("C")])),_:1}),u(i,{value:"D"},{default:a(()=>e[7]||(e[7]=[n("D")])),_:1}),u(i,{value:"E"},{default:a(()=>e[8]||(e[8]=[n("E")])),_:1}),u(i,{value:"F"},{default:a(()=>e[9]||(e[9]=[n("F")])),_:1}),u(i,{value:"G"},{default:a(()=>e[10]||(e[10]=[n("G")])),_:1}),u(i,{value:"A"},{default:a(()=>e[11]||(e[11]=[n("A")])),_:1}),u(i,{value:"B"},{default:a(()=>e[12]||(e[12]=[n("B")])),_:1})]),_:1},8,["value"]),u(k,{value:d(s).alter,"onUpdate:value":e[5]||(e[5]=g=>d(s).alter=g),"button-style":"solid",class:"alter"},{default:a(()=>[u(i,{value:-1},{default:a(()=>e[13]||(e[13]=[n("Flat(\u266D)")])),_:1}),u(i,{value:0},{default:a(()=>e[14]||(e[14]=[n("Natural")])),_:1}),u(i,{value:1},{default:a(()=>e[15]||(e[15]=[n("Sharp(\u266F)")])),_:1})]),_:1},8,["value"]),u(I,{title:"\u4E50\u7406\u8BA1\u7B97\u5668\u8BBE\u7F6E",placement:"bottomRight",class:E(["settings",_.value])},{content:a(()=>[u(X)]),default:a(()=>[u(m,{type:"link",shape:"round"},{default:a(()=>e[16]||(e[16]=[n(" \u8BBE\u7F6E")])),_:1})]),_:1},8,["class"])])],2),u(N),e[17]||(e[17]=o("div",{style:{height:"10rem"}},null,-1))])}}});var re=L(oe,[["__scopeId","data-v-1d01006b"]]);export{re as default};
