import{d as R,u as U,s as O,r as p,o as B,c as D,a as l,b as o,e as i,i as k,t as T,w as a,F as N,p as x,f as S,g as u,h as F,n as L,j as M,k as y,l as Y,v as j}from"./index-9722ba75.js";import{t as A}from"./utils-66b65186.js";import{o as m}from"./index-89926df3.js";import{_ as I}from"./plugin-vue_export-helper-893979e1.js";const g=_=>(x("data-v-1babf09f"),_=_(),S(),_),z={class:"settings"},H={class:"scale_num_mode"},K={class:"btn_line"},q=g(()=>l("span",null,"\u4EE5\u7F57\u9A6C\u6570\u5B57\u663E\u793A",-1)),J={class:"tip"},Q={class:"show_scales"},W=g(()=>l("div",{class:"btn_line"},[l("span",null,"\u97F3\u9636\u663E\u793A\u9009\u62E9")],-1)),X=g(()=>l("div",{style:{height:"0.3rem"}},null,-1)),Z=u("\u81EA\u7136\u5927\u8C03\uFF08Ionia\uFF09"),ee=u("\u81EA\u7136\u5C0F\u8C03\uFF08Aeolian\uFF09"),te=u("Dorian\u5C0F\u8C03"),se=u("Phrygian\u5C0F\u8C03"),oe=u("Lydian\u5927\u8C03"),ae=u("Mixo-lydian\u5927\u8C03"),le=u("Locrian\u534A\u51CF\u4E03\u8C03"),ue={class:"reverse_by"},ne=g(()=>l("div",{class:"btn_line"},[l("span",null,"\u53CD\u5411\u97F3\u9636\u663E\u793A")],-1)),_e=g(()=>l("div",{style:{height:"0.3rem"}},null,-1)),ie=u("\u6309\u97F3\u9636"),de=u("\u6309\u4E3B\u97F3"),re=g(()=>l("div",{style:{height:"1.5rem"}},null,-1)),ce=R({setup(_){const w=U(),{is_show_scale_rome:s,show_scale_id:v,reverse_scale_show_by:f}=O(w);return(E,c)=>{const d=p("a-switch"),r=p("a-radio"),$=p("a-radio-group");return B(),D(N,null,[l("div",z,[l("div",H,[l("div",K,[q,o(d,{checked:i(s),"onUpdate:checked":c[0]||(c[0]=e=>k(s)?s.value=e:null),class:"right"},null,8,["checked"])]),l("div",J,T(i(s)?"\u6548\u679C\u9884\u89C8\uFF1A\u4E3B\u2160 \u5C5E\u2164 \u5BFC\u2166":"\u6548\u679C\u9884\u89C8\uFF1A\u4E3B1  \u5C5E5  \u5BFC7"),1)]),l("div",Q,[W,X,o($,{value:i(v),"onUpdate:value":c[1]||(c[1]=e=>k(v)?v.value=e:null)},{default:a(()=>[o(r,{value:"ION",class:"mode_options"},{default:a(()=>[Z]),_:1}),o(r,{value:"AEO",class:"mode_options"},{default:a(()=>[ee]),_:1}),o(r,{value:"DOR",class:"mode_options"},{default:a(()=>[te]),_:1}),o(r,{value:"PHR",class:"mode_options"},{default:a(()=>[se]),_:1}),o(r,{value:"LYD",class:"mode_options"},{default:a(()=>[oe]),_:1}),o(r,{value:"MLY",class:"mode_options"},{default:a(()=>[ae]),_:1}),o(r,{value:"LOC",class:"mode_options"},{default:a(()=>[le]),_:1})]),_:1},8,["value"])]),l("div",ue,[ne,_e,o($,{value:i(f),"onUpdate:value":c[2]||(c[2]=e=>k(f)?f.value=e:null)},{default:a(()=>[o(r,{value:"by_mode",class:"mode_options"},{default:a(()=>[ie]),_:1}),o(r,{value:"by_tonic",class:"mode_options"},{default:a(()=>[de]),_:1})]),_:1},8,["value"])])]),re],64)}}});var ve=I(ce,[["__scopeId","data-v-1babf09f"]]);const pe={},fe=_=>(x("data-v-6bb941b9"),_=_(),S(),_),he={class:"loading"},me=fe(()=>l("div",null,"\u52A0\u8F7D\u4E2D...",-1));function be(_,w){const s=p("a-spin");return B(),D("div",he,[o(s,{class:"spin_kit"}),me])}var ge=I(pe,[["render",be],["__scopeId","data-v-6bb941b9"]]);const G=_=>(x("data-v-96b65602"),_=_(),S(),_),Ce={class:"nav"},Fe=G(()=>l("div",null,"by Guo",-1)),ye={class:"tonic_choice"},we=u("C"),Ee=u("D"),$e=u("E"),ke=u("F"),Ae=u("G"),Be=u("A"),De=u("B"),xe=u("Flat(\u266D)"),Se=u("Natural"),Ie=u("Sharp(\u266F)"),Le=u(" \u8BBE\u7F6E"),Me=G(()=>l("div",{style:{height:"10rem"}},null,-1)),Re=R({setup(_){const w=U(),{tonic_choice_bar:s,tonic_n_db:v,nth:f,is_loading:E}=O(w);F.beforeEach((e,t,n)=>{E.value=!0,n()}),F.afterEach((e,t)=>{E.value=!1});const c=e=>{if(f.value===e)return"is_selected"},d=["C","D","E","F","G","A","B"];m("r",e=>{e.preventDefault();const t=[-1,0,1];s.value.step=d[Math.floor(Math.random()*d.length)],s.value.alter=t[Math.floor(Math.random()*t.length)]}),m(["c","d","e","f","g","a","b"],e=>{e.preventDefault(),s.value.step=e.key.toUpperCase()}),m(["0","-","="],e=>{e.preventDefault(),e.key==="-"?s.value.alter=-1:e.key==="0"?s.value.alter=0:s.value.alter=1}),m(["[","]"],e=>{e.preventDefault(),e.key==="["?s.value.alter>-1&&(s.value.alter-=1):s.value.alter<1&&(s.value.alter+=1)}),m([",","."],e=>{e.preventDefault();const t=e.key==="."?d.indexOf(s.value.step)+1:d.indexOf(s.value.step)-1;t<0?s.value.step=d[t+d.length]:t>d.length-1?s.value.step=d[t-d.length]:s.value.step=d[t]}),m("v",e=>{if(e.preventDefault(),v.value.is_black){const t=L({loc_id:v.value.loc_id},{is_normal:!0},{step:{"!=":v.value.step}}).first();s.value={step:t.step,alter:t.alter}}}),m(["ArrowLeft","ArrowRight"],e=>{e.preventDefault();let t;e.key==="ArrowLeft"?t=v.value.loc_id-1:t=v.value.loc_id+1,t<=0?t+=12:t>12&&(t-=12);const n=L({loc_id:t},{alter:{">=":-1}},{alter:{"<=":1}}).get(),C=A(n)({alter:0}).first();if(C!=!1){s.value={step:C.step,alter:0};return}if(e.key==="ArrowLeft"){const h=A(n)({alter:-1}).first();s.value={step:h.step,alter:h.alter};return}if(e.key==="ArrowRight"){const h=A(n)({alter:1}).first();s.value={step:h.step,alter:h.alter};return}});const r=M(()=>f.value!=3?"is_hidden":null),$=M(()=>f.value==1?"is_hidden":null);return(e,t)=>{const n=p("a-radio-button"),C=p("a-radio-group"),h=p("a-button"),V=p("a-popover"),P=p("router-view");return B(),D(N,null,[l("div",Ce,[Fe,l("div",{onClick:t[0]||(t[0]=b=>i(F).replace("/music/readme")),class:y(c(1))},"ReadMe",2),l("div",{onClick:t[1]||(t[1]=b=>i(F).replace("/music/interval")),class:y(c(2))},"Interval",2),l("div",{onClick:t[2]||(t[2]=b=>i(F).replace("/music/scales")),class:y(c(3))},"Scales",2)]),Y(o(ge,null,null,512),[[j,i(E)]]),l("div",{class:y(["music",i($)])},[l("div",ye,[o(C,{value:i(s).step,"onUpdate:value":t[3]||(t[3]=b=>i(s).step=b),"button-style":"solid",class:"step"},{default:a(()=>[o(n,{value:"C"},{default:a(()=>[we]),_:1}),o(n,{value:"D"},{default:a(()=>[Ee]),_:1}),o(n,{value:"E"},{default:a(()=>[$e]),_:1}),o(n,{value:"F"},{default:a(()=>[ke]),_:1}),o(n,{value:"G"},{default:a(()=>[Ae]),_:1}),o(n,{value:"A"},{default:a(()=>[Be]),_:1}),o(n,{value:"B"},{default:a(()=>[De]),_:1})]),_:1},8,["value"]),o(C,{value:i(s).alter,"onUpdate:value":t[4]||(t[4]=b=>i(s).alter=b),"button-style":"solid",class:"alter"},{default:a(()=>[o(n,{value:-1},{default:a(()=>[xe]),_:1}),o(n,{value:0},{default:a(()=>[Se]),_:1}),o(n,{value:1},{default:a(()=>[Ie]),_:1})]),_:1},8,["value"]),o(V,{title:"\u4E50\u7406\u8BA1\u7B97\u5668\u8BBE\u7F6E",placement:"bottomRight",class:y(["settings",i(r)])},{content:a(()=>[o(ve)]),default:a(()=>[o(h,{type:"link",shape:"round"},{default:a(()=>[Le]),_:1})]),_:1},8,["class"])])],2),o(P),Me],64)}}});var Ve=I(Re,[["__scopeId","data-v-96b65602"]]);export{Ve as default};
