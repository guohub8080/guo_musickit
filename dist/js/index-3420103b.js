import{d as x,u as U,s as N,r as f,o as w,c as D,a,b as o,e as _,i as A,t as T,w as l,F as P,p as L,f as S,g as u,h as Y,j,k as y,n as M,l as B,m as R,q as b,v as q,x as z}from"./index-82d51ccb.js";import{u as H,o as C}from"./index-05f4b4ee.js";import{_ as I}from"./plugin-vue_export-helper-893979e1.js";const E=i=>(L("data-v-1babf09f"),i=i(),S(),i),K={class:"settings"},J={class:"scale_num_mode"},Q={class:"btn_line"},W=E(()=>a("span",null,"\u4EE5\u7F57\u9A6C\u6570\u5B57\u663E\u793A",-1)),X={class:"tip"},Z={class:"show_scales"},ee=E(()=>a("div",{class:"btn_line"},[a("span",null,"\u97F3\u9636\u663E\u793A\u9009\u62E9")],-1)),te=E(()=>a("div",{style:{height:"0.3rem"}},null,-1)),se=u("\u81EA\u7136\u5927\u8C03\uFF08Ionia\uFF09"),oe=u("\u81EA\u7136\u5C0F\u8C03\uFF08Aeolian\uFF09"),ae=u("Dorian\u5C0F\u8C03"),le=u("Phrygian\u5C0F\u8C03"),ue=u("Lydian\u5927\u8C03"),ne=u("Mixo-lydian\u5927\u8C03"),_e=u("Locrian\u534A\u51CF\u4E03\u8C03"),ie={class:"reverse_by"},de=E(()=>a("div",{class:"btn_line"},[a("span",null,"\u53CD\u5411\u97F3\u9636\u663E\u793A")],-1)),ce=E(()=>a("div",{style:{height:"0.3rem"}},null,-1)),re=u("\u6309\u97F3\u9636"),ve=u("\u6309\u4E3B\u97F3"),pe=E(()=>a("div",{style:{height:"1.5rem"}},null,-1)),fe=x({setup(i){const g=U(),{is_show_scale_rome:s,show_scale_id:v,reverse_scale_show_by:p}=N(g);return(F,c)=>{const d=f("a-switch"),r=f("a-radio"),k=f("a-radio-group");return w(),D(P,null,[a("div",K,[a("div",J,[a("div",Q,[W,o(d,{checked:_(s),"onUpdate:checked":c[0]||(c[0]=t=>A(s)?s.value=t:null),class:"right"},null,8,["checked"])]),a("div",X,T(_(s)?"\u6548\u679C\u9884\u89C8\uFF1A\u4E3B\u2160 \u5C5E\u2164 \u5BFC\u2166":"\u6548\u679C\u9884\u89C8\uFF1A\u4E3B1  \u5C5E5  \u5BFC7"),1)]),a("div",Z,[ee,te,o(k,{value:_(v),"onUpdate:value":c[1]||(c[1]=t=>A(v)?v.value=t:null)},{default:l(()=>[o(r,{value:"ION",class:"mode_options"},{default:l(()=>[se]),_:1}),o(r,{value:"AEO",class:"mode_options"},{default:l(()=>[oe]),_:1}),o(r,{value:"DOR",class:"mode_options"},{default:l(()=>[ae]),_:1}),o(r,{value:"PHR",class:"mode_options"},{default:l(()=>[le]),_:1}),o(r,{value:"LYD",class:"mode_options"},{default:l(()=>[ue]),_:1}),o(r,{value:"MLY",class:"mode_options"},{default:l(()=>[ne]),_:1}),o(r,{value:"LOC",class:"mode_options"},{default:l(()=>[_e]),_:1})]),_:1},8,["value"])]),a("div",ie,[de,ce,o(k,{value:_(p),"onUpdate:value":c[2]||(c[2]=t=>A(p)?p.value=t:null)},{default:l(()=>[o(r,{value:"by_mode",class:"mode_options"},{default:l(()=>[re]),_:1}),o(r,{value:"by_tonic",class:"mode_options"},{default:l(()=>[ve]),_:1})]),_:1},8,["value"])])]),pe],64)}}});var he=I(fe,[["__scopeId","data-v-1babf09f"]]);const O=i=>(L("data-v-29d4617a"),i=i(),S(),i),me={class:"out_circle"},Ce={class:"inner_circle"},ge={class:"up_text"},Fe=O(()=>a("div",null,"\u52A0\u8F7D\u4E2D...",-1)),ye=O(()=>a("div",{class:"bg_circle"},null,-1)),be=x({setup(i){const g=Y(null),s=H(g);return s.value=!0,(v,p)=>{const F=f("a-spin");return w(),D("div",{class:"loading",onTouchmove:p[0]||(p[0]=j(()=>{},["prevent"])),ref_key:"el",ref:g},[a("div",me,[a("div",Ce,[a("div",ge,[o(F,{class:"spin_kit"}),Fe])]),ye])],544)}}});var Ee=I(be,[["__scopeId","data-v-29d4617a"]]);const $e=i=>(L("data-v-835b3ba2"),i=i(),S(),i),ke={class:"nav"},we={class:"tonic_choice"},Ae=u("C"),Be=u("D"),xe=u("E"),De=u("F"),Le=u("G"),Se=u("A"),Ie=u("B"),Me=u("Flat(\u266D)"),Re=u("Natural"),Ue=u("Sharp(\u266F)"),Ne=u(" \u8BBE\u7F6E"),Oe=$e(()=>a("div",{style:{height:"10rem"}},null,-1)),Ve=x({setup(i){const g=U(),{tonic_choice_bar:s,tonic_n_db:v,nth:p,is_loading:F}=N(g);y.beforeEach((t,e,n)=>{F.value=!0,n()}),y.afterEach((t,e)=>{F.value=!1});const c=t=>{if(p.value===t)return"is_selected"},d=["C","D","E","F","G","A","B"];C("r",t=>{t.preventDefault();const e=[-1,0,1];s.value.step=d[Math.floor(Math.random()*d.length)],s.value.alter=e[Math.floor(Math.random()*e.length)]}),C(["c","d","e","f","g","a","b"],t=>{t.preventDefault(),s.value.step=t.key.toUpperCase()}),C(["0","-","="],t=>{t.preventDefault(),t.key==="-"?s.value.alter=-1:t.key==="0"?s.value.alter=0:s.value.alter=1}),C(["[","]"],t=>{t.preventDefault(),t.key==="["?s.value.alter>-1&&(s.value.alter-=1):s.value.alter<1&&(s.value.alter+=1)}),C([",","."],t=>{t.preventDefault();const e=t.key==="."?d.indexOf(s.value.step)+1:d.indexOf(s.value.step)-1;e<0?s.value.step=d[e+d.length]:e>d.length-1?s.value.step=d[e-d.length]:s.value.step=d[e]}),C("v",t=>{if(t.preventDefault(),v.value.is_black){const e=M({loc_id:v.value.loc_id},{is_normal:!0},{step:{"!=":v.value.step}}).first();s.value={step:e.step,alter:e.alter}}}),C(["ArrowLeft","ArrowRight"],t=>{t.preventDefault();let e;t.key==="ArrowLeft"?e=v.value.loc_id-1:e=v.value.loc_id+1,e<=0?e+=12:e>12&&(e-=12);const n=M({loc_id:e},{alter:{">=":-1}},{alter:{"<=":1}}).get(),$=B(n)({alter:0}).first();if($!=!1){s.value={step:$.step,alter:0};return}if(t.key==="ArrowLeft"){const h=B(n)({alter:-1}).first();s.value={step:h.step,alter:h.alter};return}if(t.key==="ArrowRight"){const h=B(n)({alter:1}).first();s.value={step:h.step,alter:h.alter};return}});const r=R(()=>p.value!=3?"is_hidden":null),k=R(()=>[1].includes(p.value)?"is_hidden":null);return(t,e)=>{const n=f("a-radio-button"),$=f("a-radio-group"),h=f("a-button"),V=f("a-popover"),G=f("router-view");return w(),D("div",null,[a("div",ke,[a("div",{onClick:e[0]||(e[0]=m=>_(y).replace("/music/readme")),class:b(c(1))},"ReadMe",2),a("div",{onClick:e[1]||(e[1]=m=>_(y).replace("/music/interval")),class:b(c(2))},"Interval",2),a("div",{onClick:e[2]||(e[2]=m=>_(y).replace("/music/scales")),class:b(c(3))},"Scales",2),a("div",{onClick:e[3]||(e[3]=m=>_(y).replace("/music/chord")),class:b(c(4))},"Chord",2)]),_(F)?(w(),q(Ee,{key:0})):z("",!0),a("div",{class:b(["music",_(k)])},[a("div",we,[o($,{value:_(s).step,"onUpdate:value":e[4]||(e[4]=m=>_(s).step=m),"button-style":"solid",class:"step"},{default:l(()=>[o(n,{value:"C"},{default:l(()=>[Ae]),_:1}),o(n,{value:"D"},{default:l(()=>[Be]),_:1}),o(n,{value:"E"},{default:l(()=>[xe]),_:1}),o(n,{value:"F"},{default:l(()=>[De]),_:1}),o(n,{value:"G"},{default:l(()=>[Le]),_:1}),o(n,{value:"A"},{default:l(()=>[Se]),_:1}),o(n,{value:"B"},{default:l(()=>[Ie]),_:1})]),_:1},8,["value"]),o($,{value:_(s).alter,"onUpdate:value":e[5]||(e[5]=m=>_(s).alter=m),"button-style":"solid",class:"alter"},{default:l(()=>[o(n,{value:-1},{default:l(()=>[Me]),_:1}),o(n,{value:0},{default:l(()=>[Re]),_:1}),o(n,{value:1},{default:l(()=>[Ue]),_:1})]),_:1},8,["value"]),o(V,{title:"\u4E50\u7406\u8BA1\u7B97\u5668\u8BBE\u7F6E",placement:"bottomRight",class:b(["settings",_(r)])},{content:l(()=>[o(he)]),default:l(()=>[o(h,{type:"link",shape:"round"},{default:l(()=>[Ne]),_:1})]),_:1},8,["class"])])],2),o(G),Oe])}}});var Ye=I(Ve,[["__scopeId","data-v-835b3ba2"]]);export{Ye as default};
